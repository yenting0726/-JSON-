
<!--
https://data.gov.tw/dataset/101813
臺南市噪音監測站監測數據
本資料集提供臺南市噪音監測站監測數據資料。

#用表格呈現

1.拿資料 
42_ajax_get_post.html
2. json
26A_矩陣json.html
3. 表格
35_exam.html


-->

<!DOCTYPE html>
<html>
<head>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
    <!-- jquery  -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.7.1/jquery.min.js"></script>
<script>
$(document).ready(function(){              // load 網頁資料下載後結束後會執行
  $("#button1").click(function(){          // #button1 按下後 的反應 
    let url1="https://soa.tainan.gov.tw/Api/Service/Get/c907df5c-d78b-4aa1-b5d4-f44fa712ab8e";
   // 打開 demo_test.txt 把內容 #div1
    $.get(url1, function(data, status){   
      
      console.log(data.data);

      let str1=data.data; //str1 是全部的資料
      
      console.log(str1);
     
     
     let tbody1 ="";
     for(i=0;i<str1.length;i++) {
      console.log(str1[i]);   //str1[i] 這是抓出來的資料 陣列遍歷 接下來要放到TR
   let row =str1[i];
   console.log(row);
   let table=`
              <tr>
              <td>${row.Seq}</td>
              <td>${row.測站編號}</td>
              <td>${row.監測日期}</td>
              <td>${row.測站名稱}</td>
              <td>${row.音源別}</td>
              <td>${row.管制區}</td>
              <td>${row.日}</td>
              <td>${row.晚}</td>
              <td>${row.夜}</td>
              <td>${row.早晚標準值}</td>
              <td>${row.日間標準值}</td>
              <td>${row.夜間標準值}</td>
              <td> <button type="button" class="btn btn-danger del" > 刪除</button></td>
              

              </tr>
            `;
            $("#tbody1").append(table);
            fun_處理刪除的按鈕();

      
               
     }
     
     
               

    }); 
   

  }); 
  
  fun_處理刪除的按鈕();
});
function fun_處理刪除的按鈕(){
  // 處理刪除    
  $(".del").click(function(){ 
    // 找 parant tr
    //  $("#div1").empty();
    $(this).parents("tr").remove();
  });
}
</script>
</head>
<body>
 <h1> 臺南市噪音監測站監測數據 </h1> 
 
<div class="container">

  <div class="mt-4 p-5 bg-secondary text-white rounded">
  <div id="div1"><h2>本資料集提供臺南市噪音監測站監測數據資料。</h2></div>
  <button type="button" class="btn btn-primary" id="button1"> 抓資料到表格</button>
  </div>

 
  <p>
  <hr>
  <p>

  <table class="table  table-striped  table-hover">
    <thead  class="table-dark">
      <tr>
        <th scope="col">Seq</th>
        <th scope="col">測站編號</th> 
        <th scope="col">監測日期</th> 
        <th scope="col">測站名稱</th> 
        <th scope="col">音源別</th> 
        <th scope="col">管制區</th> 
        <th scope="col">日</th> 
        <th scope="col">晚</th> 
        <th scope="col">夜</th> 
        <th scope="col">早晚標準值</th> 
        <th scope="col">日間標準值</th> 
        <th scope="col">夜間標準值</th> 
        <th scope="col">刪除</th> 
      </tr>
    </thead>
    <tbody id="tbody1">
      
      
      <tr> 
        <td></td>
        <td></td> 
        <td></td> 
        <td></td> 
        <td></td> 
        <td></td> 
        <td></td> 
        <td></td> 
        <td></td> 
        <td></td> 
        <td></td>
        <td></td> 
        <td>
         
        </td> 
      </tr>
     
      
      
    </tbody>
  </table>
</div>



</body>
</html>